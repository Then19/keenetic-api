# üöÄ Keenetic Policy Controller API

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ Keenetic!  
–° –µ–≥–æ –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –ø–æ–ª—É—á–∞—Ç—å –∏—Ö —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.  
–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ VPN-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –¥–ª—è –≤—Å–µ–≥–æ –¥–æ–º–∞. üè†üíª

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `backend`.  
   –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.env_example`, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ä—è–¥–æ–º.

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Docker Compose:

```
docker compose up -d --build
```

3. –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8080/api/docs
```

---

## üõ† API –ú–µ—Ç–æ–¥—ã

### üîπ POST `/api/policy/change`

–ò–∑–º–µ–Ω—è–µ—Ç –ø–æ–ª–∏—Ç–∏–∫—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**  
 - `device_mac` (string) ‚Äî MAC-–∞–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞  
 - `policy_name` (string) ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏

### üîπ GET `/api/policy/current`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é –ø–æ–ª–∏—Ç–∏–∫—É —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**  
 - `device_mac` (string) ‚Äî MAC-–∞–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

---

## üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

 - –≠—Ç–æ—Ç API –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ –¥–æ–º–µ —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.  
 - Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.  
 - –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPN –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ –¥–æ–º–µ.

---

## üñº –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ VPN-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

–ù–∏–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø—Ä–∏–º–µ—Ä–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:  

1. <img width="505" height="710" alt="Image" src="https://github.com/user-attachments/assets/4e4bdaac-768d-41a1-a62c-11aaa4383a2f" />
2. <img width="475" height="682" alt="Image" src="https://github.com/user-attachments/assets/580f4e4b-7cc9-4300-8283-e6308d05abc1" />
3. <img width="470" height="664" alt="Image" src="https://github.com/user-attachments/assets/74f8ff99-461e-4f10-8a24-31a32d0347a9" />
